"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[394],{5394:function(s,e,t){t.r(e),t.d(e,{default:function(){return X}});var i=t(1413),r=t(5671),n=t(3144),o=t(136),a=t(516),l=t(2791),u="Profile_content__g-Lde",c=t(9439);var d=t.p+"static/media/minus.1c3ca1f56805053477a8da99a28e2667.svg",f=t(8312),p=t(184),h=function(s){return(0,p.jsx)("div",{className:f.Z.preloader,children:(0,p.jsx)("img",{src:d,alt:""})})};var x=t.p+"static/media/pluse.2c7dee90aec26a4ab0f9f926da8b620e.svg",m=function(s){return(0,p.jsx)("div",{className:f.Z.pluse,children:(0,p.jsx)("img",{src:x,alt:""})})},j=t(3375),v="ProfileInfo_descriptionBlock__dqORZ",P="ProfileInfo_Photo__YBXq-",_="ProfileInfo_description__ZG68a",g="ProfileInfo_fullName__8-ltq",b="ProfileInfo_minuse__d4oZp",k="ProfileInfo_pluse__Wgpcm",I="ProfileInfo_photoBtn__puhHe",N="ProfileInfo_contact__GBDtS",S="ProfileInfo_formSummaryError__ma2AY",Z=function(s){var e=(0,l.useState)(!1),t=(0,c.Z)(e,2),i=t[0],r=t[1],n=(0,l.useState)(s.status),o=(0,c.Z)(n,2),a=o[0],u=o[1];(0,l.useEffect)((function(){u(s.status)}),[s.status]);return(0,p.jsxs)("div",{children:[!i&&(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:function(){r(!0)},children:s.status||"-----"})}),i&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(s){u(s.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),s.updateStatus(a)},value:a})})]})},y=t(7711),w=t(7492),A=t(704),C=(0,A.Z)({form:"edit-profile"})((function(s){var e=s.handleSubmit,t=s.profile,i=s.error;return(0,p.jsxs)("form",{onSubmit:e,children:[(0,p.jsxs)("div",{children:[" ",(0,p.jsx)("button",{children:"save"})]}),i&&(0,p.jsx)("div",{className:S,children:i}),(0,p.jsxs)("div",{className:g,children:[(0,p.jsx)("b",{children:"Full name"})," : ",(0,w.Gr)("Full name",w.II,"fullName",[])]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"}),": ",(0,w.Gr)([],w.II,"lookingForAJob",[],{type:"checkbox"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My Professional skills "}),": ",(0,w.Gr)("My Professional skills",w.gx,"lookingForAJobDescription",[])]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me"}),": ",(0,w.Gr)("About me",w.gx,"AboutMe",[]),"  "]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(s){return(0,p.jsxs)("div",{className:N,children:[(0,p.jsxs)("b",{children:[s,":"]})," ",(0,w.Gr)(s,w.II,"contacts."+s,[])]},s)}))]})]})})),M=function(s){var e=s.profile,t=s.isOwner,i=s.goToEditMode;s.status,s.updateStatus;return(0,p.jsxs)("div",{className:_,children:[t&&(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:i,children:"edit"})}),(0,p.jsx)("div",{className:g,children:e.fullName}),(0,p.jsxs)("div",{children:["\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:",e.lookingForAJob?(0,p.jsx)(m,{className:k}):(0,p.jsx)(h,{className:b})]}),e.lookingForAJob&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My Professional skills "}),": ",e.lookingForAJobDescription]}),(0,p.jsx)("div",{children:(0,p.jsx)("p",{children:e.aboutMe})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts).map((function(s){return(0,p.jsx)(B,{contactTitle:s,contactValue:e.contacts[s]},s)}))]})]})},B=function(s){var e=s.contactTitle,t=s.contactValue;return(0,p.jsxs)("div",{className:N,children:[(0,p.jsx)("b",{children:e})," : ",(0,p.jsx)("b",{children:t})]})},F=function(s){var e=s.profile,t=s.isOwner,i=s.savePhoto,r=s.saveProfile,n=s.status,o=s.updateStatus,a=(0,l.useState)(!1),u=(0,c.Z)(a,2),d=u[0],f=u[1];if(!e)return(0,p.jsx)(j.Z,{});return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:v,children:[(0,p.jsx)("img",{className:P,src:e.photos.large||y,alt:""}),(0,p.jsx)(Z,{status:n,updateStatus:o}),d?(0,p.jsx)(C,{initialValues:e,profile:e,onSubmit:function(s){r(s).then((function(){f(!1)}))}}):(0,p.jsx)(M,{goToEditMode:function(){return f(!0)},profile:e,isOwner:t})]}),t&&(0,p.jsx)("input",{className:I,type:"file",onChange:function(s){s.target.files.length&&i(s.target.files[0])}})]})},G=t(6070),O=t(6139),D={item:"MyPosts_item__MZdg2",postsBlock:"MyPosts_postsBlock__lB-pf"},T="Post_item__Yu4oG",U=function(s){return(0,p.jsxs)("div",{className:T,children:[(0,p.jsx)("img",{src:"https://www.pngall.com/wp-content/uploads/12/Avatar-PNG-Image.png",alt:""}),s.message,(0,p.jsx)("div",{children:(0,p.jsxs)("span",{children:["Like ",s.count]})})]})},J=t(5304),R=(0,J.D)(10),q=l.memo((function(s){var e=s.posts.map((function(s){return(0,p.jsx)(U,{message:s.message,count:s.likesCount},s.id)}));return(0,p.jsxs)("div",{className:D.postsBlock,children:[(0,p.jsx)("h3",{children:"my post"}),(0,p.jsx)("div",{className:D.posts,children:e}),(0,p.jsx)(z,{onSubmit:function(e){s.addPost(e.newPost)}})]})})),z=(0,A.Z)({form:"MyPostAddPostForm"})((function(s){return(0,p.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(O.Z,{component:w.gx,name:"newPost",validate:[J.C,R],placeholder:"ost message"})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"New post"})})]})})),E=q,V=t(8687),Y=(0,V.$j)((function(s){return{posts:s.profileReducer.posts,newPostText:s.profileReducer.newPostText}}),(function(s){return{addPost:function(e){s((0,G.Wl)(e))}}}))(E),L=function(s){return(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)(F,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,saveProfile:s.saveProfile,updateStatus:s.updateStatus}),(0,p.jsx)(Y,{})]})},W=t(128),$=t(7781),H=function(s){(0,o.Z)(t,s);var e=(0,a.Z)(t);function t(){return(0,r.Z)(this,t),e.apply(this,arguments)}return(0,n.Z)(t,[{key:"refreshProfile",value:function(){var s=Number(this.props.router.params.userId);s||(s=this.props.authrizedUserId)||this.props.router.navigate("/login"),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s){this.props.authrizedUserId!==s.authrizedUserId&&this.refreshProfile()}},{key:"render",value:function(){return(0,p.jsx)(L,(0,i.Z)((0,i.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),t}(l.Component),X=(0,$.qC)((0,V.$j)((function(s){return{profile:s.profileReducer.profile,status:s.profileReducer.status,authrizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:G.et,getStatus:G.lR,updateStatus:G.Nf,savePhoto:G.Ju,saveProfile:G.Ii}),W.Z)(H)}}]);
//# sourceMappingURL=394.16888ea0.chunk.js.map